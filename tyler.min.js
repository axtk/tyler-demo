(function(){if(!window.tyler){var b={fire(f,g){return this.interceptionCallback&&this.interceptionCallback(f,g),this.listeners.forEach(h=>{h.event===f&&h.handler.call(h.context,f,g)}),this},on(f,g,h){return f instanceof Array?f.forEach(j=>this.on(j,g,h)):this.listeners.push({event:f,handler:g,context:h}),this},off(f,g,h){for(var j=this.listeners.length-1;0<=j;j--){let k=this.listeners[j].event===f&&(!g||this.listeners[j].handler===g)&&(!h||this.listeners[j].context===h);k&&this.listeners.splice(j,1)}return this},intercept(f){return this.interceptionCallback=f,this},gc(){for(var f=this.listeners.length-1;0<=f;f--){let g=this.listeners[f].context;g&&g.node&&null===g.node.parentNode&&this.listeners.splice(f,1)}},listeners:[]},c=function(f){Object.assign(this,f||{})};Object.assign(c.prototype,{fire(f,g){return b.fire(f,g),this},on(f,g){return b.on(f,g,this),this},off(f,g){return b.off(f,g,this),this}});var d=f=>new DOMParser().parseFromString(f,'text/html').body.childNodes,e=f=>{var g=function(h){c.call(this,f),this.node='string'==typeof h?d(h)[0]:h,g.initialHandlers.forEach(j=>this.on(j.event,j.handler))};return g.prototype=Object.create(c.prototype),g.initialHandlers=[],g.on=(h,j)=>{return g.initialHandlers.push({event:h,handler:j}),g},g};window.tyler={Observer:c,Service:c,createElement:e,dispatcher:b,toDOM:d}}})();